(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{84378:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return t(83069)}])},83069:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return HomePage}});var a=t(24246),n=t(27378),c=t(88038),i=t.n(c);let numberFormatTime=e=>String(e).padStart(2,"0"),formatTime=e=>{if(0===e)return"0 ms";let s=Math.floor(Math.log(e)/Math.log(1e3));return e>=36e8?"".concat(Math.floor(e/36e8)," hour ").concat(Math.floor(e%36e8/6e7)," min ").concat(Math.floor(e%36e8%6e7/1e6)," s"):e>=6e7&&e<36e8?"".concat(Math.floor(e/6e7)," min ").concat(Math.floor(e%6e7/1e6)," s"):parseFloat((e/Math.pow(1e3,s)).toFixed(2))+" "+["\xb5s","ms","s","min"][s]},roundNumber=e=>Math.round(100*e)/100,getShortDevice=e=>{try{let s,t;let a=e.match(/\((.*?)\)/),n=e.match(/rclient\/\d+\.\d+\.\d+/);a&&a.length>1&&(s=a[1].trim()),n&&n.length>0&&(t=n[0]);let c=s+" | "+t;return c}catch(e){console.log(e)}};var r=t(95619),l=t(38579),o=t.n(l),d=t(35928),p=t(36633),m=t(56237);function Header(){let{performance:e}=(0,m.q)(),{platform:s,processVersion:t}=e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(o(),{priority:!0,src:"/images/logo.png",width:28,height:28,alt:"Logo rClient"})}),(0,a.jsxs)("div",{style:{transform:"scaleX(1.4)"},className:"ml-7 text-green font-normal flex items-center text-2xl",children:[(0,a.jsx)("span",{className:"mr-1",children:"R"}),(0,a.jsx)("span",{className:"mr-1",children:"I"}),(0,a.jsx)("span",{className:"mr-1",children:"V"}),(0,a.jsx)("span",{className:"mr-1",children:"A"}),(0,a.jsx)("span",{className:"mr-1",children:"L"}),(0,a.jsx)("span",{children:"Z"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-center text-green_49B267",children:[(0,a.jsx)(d.AGi,{onClick:()=>window.ipc.send("get-link-telegram","update now"),className:"hover:text-green cursor-pointer",size:22}),(0,a.jsx)(p.LCd,{onClick:()=>window.ipc.send("get-link-twitter","update now"),className:"ml-3 hover:text-green cursor-pointer",size:22}),(0,a.jsx)(p.j2d,{onClick:()=>window.ipc.send("get-link-discord","update now"),className:"ml-3 hover:text-green cursor-pointer",size:22})]}),(0,a.jsx)("div",{className:"text-3xl font-black grid justify-end text-white",children:"RCLIENT CONTROL CENTER"})]}),(0,a.jsxs)("div",{className:"text-xs mt-1 flex justify-end",children:[(0,a.jsx)("span",{children:"Platform: "}),(0,a.jsxs)("span",{className:"ml-1",children:[s?s.slice(0,-3):"---","_",t?t.slice(0,-3):"---"]})]})]})}var x=t(76676),u=t.n(x),h=t(74105),g=t(80114),w=t(7356),f=t(37582),b=t(15425),N=t(31585),j=t(95719);function StorageBar(e){let{refStorageControl:s}=e,[t,c]=n.useState(!1),{onSetAllowcateHDD:i,onSetAllowcateSSD:r,onSetStorageType:l,onSetIsApplyStorage:o}=(0,j.b)(),[d,p]=n.useState(0),[m,x]=n.useState(0),[h,w]=n.useState(0),[f,v]=n.useState(0),[y,S]=g.ZP.useMessage(),k=n.useRef(""),[D,E]=n.useState(""),[T,A]=n.useState(0),[C,z]=n.useState(0),I=n.useRef(""),[P,L]=n.useState(!1),[R,O]=n.useState(!1),[B,U]=n.useState(!0),onCancel=()=>{z(0),A(0),o(!1),E(""),c(!1)};return n.useEffect(()=>{(C||T)&&U(!1),C||T||U(!0)},[C,T]),n.useEffect(()=>{window.ipc.send("get-osInfo","update now"),window.ipc.once("osInfo",e=>{k.current=e.platform}),window.ipc.send("get-size-shared","update now"),window.ipc.once("size-shared",e=>{r(e.sizeSSDShared),i(e.sizeHDDShared),l(e.storageType),(e.sizeSSDShared||e.sizeHDDShared)&&o(!0)})},[]),n.useEffect(()=>{console.log("start"),window.ipc.send("get-data-diskLayout","update now"),window.ipc.once("diskLayout",e=>{e.map(e=>{if("HD"===e.type){if("Windows"===k.current){let s=0;x(e.size/1073741824),window.ipc.send("get-blockDevices","update now"),window.ipc.once("blockDevices",t=>{t.map(t=>{e.device===t.device&&(window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{e.map(e=>{t.name===e.fs&&(s+=e.available),v(s/1073741824)})}))})})}if("darwin"===k.current&&(x(e.size/1073741824),window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{let s=e[0].available;v(s/1073741824)})),"linux"===k.current){let e=0,s=0;window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",t=>{t.map(t=>{e+=t.size,s+=t.available}),x(e/1073741824),v(s/1073741824)})}}if("SSD"===e.type){if(L(!0),"Windows"===k.current){let s=0;p(e.size/1073741824),window.ipc.send("get-blockDevices","update now"),window.ipc.once("blockDevices",t=>{t.map(t=>{e.device===t.device&&(window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{e.map(e=>{t.name===e.fs&&(s+=e.available),w(s/1073741824)})}))})})}if("darwin"===k.current&&(p(e.size/1073741824),window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{let s=e[0].available;w(s/1073741824)})),"linux"===k.current){let e=0,s=0;window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",t=>{t.map(t=>{e+=t.size,s+=t.available}),p(e/1073741824),w(s/1073741824)})}}if("NVMe"===e.type){if(O(!0),"Windows"===k.current){let s=0;p(e.size/1073741824),window.ipc.send("get-blockDevices","update now"),window.ipc.once("blockDevices",t=>{t.map(t=>{e.device===t.device&&(window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{e.map(e=>{t.name===e.fs&&(s+=e.available),w(s/1073741824)})}))})})}if("darwin"===k.current&&(p(e.size/1073741824),window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",e=>{let s=e[0].available;w(s/1073741824)})),"linux"===k.current){let e=0,s=0;window.ipc.send("get-fsSize","update now"),window.ipc.once("fsSize",t=>{t.map(t=>{e+=t.size,s+=t.available}),p(e/1073741824),w(s/1073741824)})}}})})},[]),(0,a.jsxs)("div",{className:"border border-green_d rounded-lg py-2 px-5",children:[S,(0,a.jsxs)("div",{children:[(0,a.jsx)(u(),{ref:s,onClick:()=>c(!0),block:!0,className:"font-cera h-10 font-black text-lg bg-green",children:"STORAGE CONTROL"}),(0,a.jsx)(N.Z,{title:"Select SSD and HDD Data Space resources that will be allocated to your Node.",open:t,onCancel:onCancel,className:"font-cera text-white frame-storage",footer:[(0,a.jsx)(u(),{disabled:B,onClick:()=>{r(T),i(C),c(!1),o(!0),C&&(l("HDD"),I.current="HDD"),T&&((P&&R||P)&&(l("SSD"),I.current="SSD"),R&&(l("NVMe"),I.current="NVMe")),window.ipc.send("add-size-shared",{sizeSSDShared:T,sizeHDDShared:C,storageType:I.current}),y.open({type:"success",className:"font-cera font-black",content:"Apply storage successfully"}),setTimeout(()=>{z(0),A(0),E("")},1e3)},className:"bg-green btn-apply font-cera font-black",children:"APPLY"},"submit"),(0,a.jsx)(u(),{onClick:onCancel,className:"bg-green font-cera font-black",children:"CANCEL"},"back")],children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between my-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"SSD Free Space: "}),(0,a.jsxs)("span",{children:[h?roundNumber(h):"0","/",d?"".concat(d.toFixed(2)," Gb"):"0 Gb"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-2 text-gray-400",children:"Allocated: "}),(0,a.jsx)(b.Z,{value:T,onChange:e=>{e&&(A(e),E("selectSSD"))},disabled:"selectSSD"!==D&&""!==D,min:0,max:"selectSSD"===D?roundNumber(h):""===D?roundNumber(h):0,defaultValue:0,className:"border border-green text-green bg-black hover:bg-black"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-gray-400 mr-2",children:"HDD Free Space: "}),(0,a.jsxs)("span",{children:[f?roundNumber(f):"0","/",m?m.toFixed(2):"0"," Gb"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"mr-2 text-gray-400",children:"Allocated: "}),(0,a.jsx)(b.Z,{value:C,onChange:e=>{e&&(z(e),E("selectHDD"))},disabled:"selectHDD"!==D&&""!==D,min:0,max:"selectHDD"===D?roundNumber(f):""===D?roundNumber(f):0,defaultValue:0,className:"border border-green bg-black hover:bg-black"})]})]})]})})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-400",children:[(0,a.jsxs)("p",{className:"mb-2 ",children:["SSD Free Space: ",(0,a.jsxs)("span",{className:"text-white ml-1",children:[h?roundNumber(h):"0","/",d?d.toFixed(2):"0"," Gb"]})]}),(0,a.jsxs)("p",{children:["HDD Free Space: ",(0,a.jsxs)("span",{className:"text-white ml-1",children:[f?roundNumber(f):"0","/",m?"".concat(m.toFixed(2)):"0"," Gb"]})]})]})]})}var v=t(35191);function WalletBar(e){let{refStorageControl:s,refInputAddress:t,refButtonValidate:c}=e,i=n.useRef(""),[r,l]=g.ZP.useMessage(),{stateNode:o,onSetAddress:p,onSetIsSaveAddress:m,onSetIsValidateNode:x}=(0,j.b)(),{address:b,isSaveAddress:N,isValidateNode:y}=o,onSaveAddress=async()=>{let e=v.UJ(i.current);i.current&&e&&(window.ipc.send("add-info-address",{address:i.current,isSaveAddress:!0}),window.ipc.send("get-info-address","update now"),window.ipc.once("info-address",e=>{p(e.address),m(e.isSaveAddress)}),r.open({type:"success",className:"font-cera",content:"Enter the address successfully"})),i.current&&!e&&r.open({type:"error",className:"font-cera",content:"Please enter the correct wallet address format"}),i.current||r.open({type:"warning",className:"font-cera",content:"Address cannot be empty"})},copyText=async()=>{navigator.clipboard.writeText(b),r.open({type:"success",className:"font-cera",content:"Copy to clipboard successfully"})};return n.useEffect(()=>{window.ipc.send("get-info-address","update now"),window.ipc.once("info-address",e=>{p(e.address),m(e.isSaveAddress)}),window.ipc.send("get-is-validate-node","update now"),window.ipc.once("is-validate-node",e=>{e.isValidateNode&&x(e.isValidateNode)})},[]),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 bg-black",children:[l,(0,a.jsx)(StorageBar,{refStorageControl:s}),(0,a.jsxs)("div",{className:"col-span-3 border text-green border-green_d rounded-lg p-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(w.K7t,{size:25,className:"mr-2"}),(0,a.jsx)("span",{className:"text-green mt-1 text-sm",children:"WALLET MANAGEMENT"})]}),(0,a.jsx)("div",{className:"validate-node",children:(0,a.jsx)(u(),{ref:c,onClick:()=>{window.ipc.send("get-verified","update now")},disabled:y,className:"font-cera bg-blue-400 text-lg h-10 font-black",children:"VALIDATE NODE"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"border-r pr-3 border-green_d",children:[(0,a.jsx)("div",{className:"my-2 text-sm text-green_49B267",children:"Add wallet"}),(0,a.jsxs)("div",{className:"flex text-green",children:[(0,a.jsx)(h.Z,{ref:t,disabled:N,value:N&&b,onBlur:e=>i.current=e.target.value,className:"border border-green_49B267 bg-black text-white hover:bg-black",placeholder:"Entry Wallet"}),(0,a.jsx)(u(),{disabled:N,onClick:onSaveAddress,className:"bg-green h-10 btn-save font-cera font-black ml-2",children:(0,a.jsx)("span",{className:"mx-4 text-lg",children:N?"SAVED":"SAVE"})})]})]})}),(0,a.jsxs)("div",{className:"px-4 py-2",children:[(0,a.jsx)("div",{className:"text-sm text-green_49B267",children:"Connected wallet"}),b?(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-white text-sm",children:b})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)(f.Fqs,{onClick:copyText,className:"cursor-pointer",size:24}),(0,a.jsx)(d.PPi,{className:"ml-2 cursor-pointer",size:24})]})]}):(0,a.jsx)("div",{className:"text-gray-400 text-sm mt-3",children:"No connected wallet"})]})]})]})]})}var y=t(23865),S=t(63701);function PerformanceBar(){let{performance:e}=(0,m.q)(),{cpuPercent:s,cpuSystem:t,cpuUser:c,memoryPercent:i,memoryRSS:r,heapTotal:l,heapUsed:o}=e,[d,p]=n.useState(""),[x,u]=n.useState("");return n.useEffect(()=>{window.ipc.send("get-osInfo","update now"),window.ipc.once("osInfo",e=>{p("".concat(e.platform,"_").concat(e.arch,"_").concat(e.release))});let e=getShortDevice(window.navigator.userAgent);u(e)},[]),(0,a.jsxs)("div",{className:"border rounded-lg border-green_d px-3 py-4 grid grid-cols-11 bg-black text-sm",children:[(0,a.jsxs)("div",{className:"p-2 border-r border-green_d col-span-3",children:[(0,a.jsxs)("div",{className:"text-green flex items-center",children:[(0,a.jsx)(f.pUp,{size:25}),(0,a.jsx)("p",{className:"ml-2",children:"WORKER"})]}),(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsx)("span",{className:"my-2",children:d||""}),(0,a.jsx)("span",{className:"text-gray-400",children:x||""})]})]}),(0,a.jsxs)("div",{className:"p-2 border-r border-green_d col-span-4",children:[(0,a.jsxs)("div",{className:"text-green flex justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(w.kek,{size:25}),(0,a.jsx)("p",{className:"ml-1",children:"CPU USAGE"})]}),(0,a.jsx)("p",{className:"text-lg",children:s?"".concat(s.toFixed(2)," %"):0===s?"0%":"---"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between my-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"CPU User "}),(0,a.jsx)("span",{children:c?"".concat(formatTime(c)):0===c?"0 ms":"---"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"CPU System "}),(0,a.jsx)("span",{children:t?"".concat(formatTime(t)):0===t?"0 ms":"---"})]})]})]}),(0,a.jsxs)("div",{className:"p-2 col-span-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"text-green flex items-center",children:[(0,a.jsx)(S.aG4,{size:25}),(0,a.jsx)("p",{className:"ml-1",children:"MEMORY USAGE"})]}),(0,a.jsx)("p",{className:"text-green text-lg",children:i?"".concat(i.toFixed(2)," %"):0===i?"0%":"---"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between my-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Memory RSS "}),(0,a.jsx)("span",{children:r?"".concat(r.toFixed(2)," MB"):0===r?"0 B":"---"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Heap Total "}),(0,a.jsx)("span",{children:l?"".concat(l.toFixed(2)," MB"):0===l?"0 B":"---"})]}),(0,a.jsxs)("div",{className:"flex justify-between mt-2",children:[(0,a.jsx)("span",{className:"text-gray-400",children:"Heap Used "}),(0,a.jsx)("span",{children:o?"".concat(o.toFixed(2)," MB"):0===o?"0 B":"---"})]})]})]})]})}var k=t(31490),D=t(48247),E=t(83351);function ConsoleBar(){let{stateNode:e}=(0,j.b)(),{spinning:s}=e,{listenEvent:t}=(0,E.P)(),{history:n}=t;return(0,a.jsx)("div",{className:"border rounded-lg border-green_d h-36 bg-black overflow-y-auto",children:(0,a.jsx)(D.Z,{className:"text-green",tip:"Awaiting response...",spinning:s,children:(0,a.jsx)("div",{className:"h-36 grid grid-cols-2",children:n.map((e,s)=>(0,a.jsxs)("div",{className:"border-green border rounded p-2 m-2 text-sm",children:[(0,a.jsxs)("p",{className:"break-all my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Key: "}),(0,a.jsx)("span",{className:"text-white",children:e.key})]}),(0,a.jsxs)("p",{className:"break-all my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Sig: "}),(0,a.jsx)("span",{className:"text-white",children:e.sig})]}),(0,a.jsxs)("p",{className:" break-all my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Clock Id: "}),(0,a.jsx)("span",{className:"text-white",children:e.clockId})]}),(0,a.jsxs)("p",{className:"my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Clock Time: "}),(0,a.jsx)("span",{className:"text-white",children:e.clockTime})]}),(0,a.jsxs)("p",{className:"my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Payload Option: "}),(0,a.jsx)("span",{className:"text-white",children:e.payloadOption})]}),(0,a.jsxs)("p",{className:"my-1 break-all",children:[(0,a.jsx)("span",{className:"text-green",children:"Value: "}),(0,a.jsx)("span",{className:"text-white",children:e.value})]}),(0,a.jsxs)("p",{className:"my-1",children:[(0,a.jsx)("span",{className:"text-green",children:"Identity: "}),(0,a.jsx)("span",{className:"text-white",children:e.identity})]}),(0,a.jsxs)("p",{className:"my-1 break-all",children:[(0,a.jsx)("span",{className:"text-green",children:"Hash: "}),(0,a.jsx)("span",{className:"text-white",children:e.hash})]})]},s))})})})}var T=t(98267),A=t(81652),C=t(64767),z=t(59621),I=t(16421),P=t(64709),L=t(71090),R=t(67898),O=t(54550),B=t(66922),U=t(99914),M=t(97138),_=t(47170),H=t(20671),F=t(21131),G=t(71445);t(10268);let Z={addresses:{listen:["/webrtc"]},transports:[(0,L.E)({filter:R.$6}),(0,O.Z)(),(0,B.f)({discoverRelays:1})],connectionEncryption:[(0,M.t)()],streamMuxers:[(0,_.P)()],connectionGater:{denyDialMultiaddr:()=>!1},services:{identify:(0,H.y)(),pubsub:(0,F.Qh)({allowPublishToZeroPeers:!0}),relay:(0,U.W)()}},startUpOrbitDB=async e=>{let{id:s,identity:t,identities:a,directory:n}=e,c=await (0,P.N)({...Z});n=n||".";let i=new I.I("".concat(n,"/ipfs/blocks")),r=await (0,z.F3)({libp2p:c,blockStore:i,blockBrokers:[(0,G.A)()]});return(0,C.f4)({ipfs:r,id:s,identity:t,identities:a,directory:n})},stopOrbitDB=async e=>{try{await e.stop(),await e.ipfs.stop(),await e.ipfs.libp2p.stop()}catch(e){console.log(e)}},saveIpfsNodeInfo=async(e,s)=>{let t=s.ipfs.libp2p.getMultiaddrs(),a=e.address.toString(),n=s.ipfs.libp2p.peerId.toString();return{dbAddress:a,peerId:n.toString(),multiAddress:t}},parseMultiAddress=e=>{let s=[];for(let t=0;t<e.length;t++)s.push((0,A.HM)(e[t]));return s};var V=t(3788),W=t(50848);function UpdateVersion(){let[e,s]=n.useState(!1),[t,c]=n.useState(""),{onSetIsModalUpdate:i}=(0,j.b)();return n.useEffect(()=>{if(!e){window.ipc.send("get-data-version","update now"),window.ipc.removeALLListener("notification-update-version"),window.ipc.once("notification-update-version",e=>{s(!0),c(e),i(!0)});let e=setInterval(()=>{window.ipc.send("get-data-version","update now"),window.ipc.removeALLListener("notification-update-version"),window.ipc.once("notification-update-version",e=>{s(!0),c(e),i(!0)})},3e4);return()=>clearInterval(e)}},[e]),(0,a.jsx)("div",{children:(0,a.jsx)(N.Z,{title:"NOTIFICATION RCLIENT",open:e,className:"font-cera text-white ",footer:[(0,a.jsx)(u(),{onClick:()=>{window.ipc.send("get-exit","update now")},className:"bg-green font-cera font-black",children:"Cancel"},"exit"),(0,a.jsx)(u(),{onClick:()=>{window.ipc.send("get-link-update","update now"),window.ipc.send("get-exit","update now")},className:"bg-green font-cera font-black",children:"Update"},"update")],children:(0,a.jsxs)("div",{className:"text-center font-cera text-green text-sm",children:["The latest version is available, users are required to update to the new version to use ","("," version: rClient ",t," ",")"]})})})}function HomePage(){let{hours:e,minutes:s,seconds:t,start:c,pause:l}=(0,r.useStopwatch)({autoStart:!1}),[o,p]=n.useState(0),[x,h]=g.ZP.useMessage(),{stateNode:w,onSetIsPlay:f,onSetStateAction:b,onSetSpinning:N,onSetIsValidateNode:v}=(0,j.b)(),{isPlay:S,isModalUpdate:D,address:A,allowcateHDD:C,allowcateSSD:z,stateAction:I,storageType:P,isSaveAddress:L,isApplyStorage:R}=w,{performance:O,onSetPid:B,onSetPpid:U,onSetCpuPercent:M,onSetCpuSystem:_,onSetCpuUser:H,onSetHeapTotal:F,onSetHeapUsed:G,onSetMemoryPercent:Z,onSetMemoryRSS:Y,onSetPlatform:q,onSetProcessVersion:K}=(0,m.q)(),{pid:J,ppid:X}=O,{onSetDbAddress:$,onSetPeerId:Q,onSetMultiAddress:ee}=(0,T.g)(),{listenEvent:es,onSetHistory:et,onSetKey:ea,onSetSig:en,onSetHash:ec,onSetClockId:ei,onSetClockTime:er,onSetIdentity:el,onSetPayloadOption:eo,onSetValue:ed,onSetStatusListenDb:ep,onSetIsCreateNode:em}=(0,E.P)(),{statusListenDb:ex}=es,eu=n.useRef(),eh=n.useRef(),[eg,ew]=n.useState(),[ef,eb]=n.useState(!0),[eN,ej]=n.useState(!0),[ev,ey]=n.useState(!0),[eS,ek]=n.useState(!0),[eD,eE]=n.useState(!1),eT=n.useRef(),eA=n.useRef(),eC=n.useRef(),ez=n.useRef(),onStop=async()=>{f(!1),l(),ej(!1),ey(!0),ek(!0),b("NODE STOP"),eg&&stopOrbitDB(eg)},getValidated=()=>{window.ipc.send("get-my-worker","update now"),window.ipc.once("my-worker",e=>{eb(e.data.verified)})},connectToNode=async()=>{try{let e=await fetch("http://139.84.136.222:8000/node-info"),s=await e.json(),{peerId:t,multiAddress:a,dbAddress:n}=s,c=(0,W.jE)(t),i=parseMultiAddress(a),r=await startUpOrbitDB({directory:"./orbitdb/node"});ew(r),await r.ipfs.libp2p.peerStore.save(c,{multiaddrs:i}),await r.ipfs.libp2p.dial(c);let l=await r.open(n),o=await saveIpfsNodeInfo(l,r);$(o.dbAddress);let d=o.multiAddress.map(e=>e.toString());ee(d),Q(o.peerId),l.events.on("join",()=>(x.open({type:"success",className:"font-cera",content:"Database joined on peer ".concat(n,".")}),!0)),l.events.on("error",e=>{ep("Error: ".concat(e.message))}),l.events.on("update",async e=>{N(!0),ea(e.key),en(e.sig),ei(e.clock.id),er(e.clock.time),eo(e.payload.op),ed(e.payload.value),el(e.identity),ec(e.hash);let s={key:e.key,sig:e.sig,clockId:e.clock.id,clockTime:e.clock.time,payloadOption:e.payload.op,value:e.payload.value,identity:e.identity,hash:e.hash};et(s),setTimeout(()=>{N(!1),x.open({type:"success",className:"font-cera",content:"Success"})},1e3)}),l.events.on("close",()=>{x.open({type:"warning",className:"font-cera",content:"Closes the database, stopping sync and closing the oplog."}),console.log(V.ZP.black.bgYellow.bold("Closes the database, stopping sync and closing the oplog."))}),l.events.on("drop",()=>{ep("Drops the database, clearing the oplog."),console.log(V.ZP.black.bgRed.bold("Drops the database, clearing the oplog."))}),l.events.on("leave",e=>{ep("Peer ".concat(e," left the database.")),console.log(V.ZP.black.bgRed.bold("Peer ".concat(e," left the database.")))}),l.events.on("replicated",e=>{ep("Replicated to ".concat(e)),console.log(V.ZP.black.bgGreen.bold("Replicated to ".concat(e)))}),l.events.on("replicate",e=>{ep("Replicating from ".concat(e)),console.log(V.ZP.black.bgGreen.bold("Replicating from ".concat(e)))}),l.events.on("replicate.progress",(e,s,t,a,n)=>{ep("Replicating from ".concat(e,": ").concat(a,"/").concat(n)),console.log(V.ZP.black.bgGreen.bold("Replicating from ".concat(e,": ").concat(a,"/").concat(n)))}),l.events.on("load",e=>{console.log(V.ZP.black.bgGreen.bold("Database ".concat(e," loaded")))}),l.events.on("load.progress",(e,s,t,a,n)=>{console.log(V.ZP.black.bgGreen.bold("Loading ".concat(a,"/").concat(n)))}),l.events.on("ready",()=>{console.log(V.ZP.black.bgGreen.bold("Database is ready"))}),console.log("storage Type",P),window.ipc.send("get-data-saveInfoOrbitDB",{address:A,multiAddress:d,ipfsDbAddress:o.dbAddress,peerId:o.peerId,cpuUsage:eu.current,storageUsage:C+z,ramUsage:eh.current,storageType:P}),window.ipc.removeALLListener("saveInfoOrbitDB-success"),window.ipc.removeALLListener("saveInfoOrbitDB-error"),window.ipc.removeALLListener("update-node-info"),window.ipc.removeALLListener("update-system-info"),window.ipc.once("saveInfoOrbitDB-success",e=>{v(!1),window.ipc.send("update-is-validate-node",{isValidateNode:!1}),x.open({type:"success",className:"font-cera",content:"You have successfully created a new address"})}),window.ipc.once("saveInfoOrbitDB-error",e=>{x.open({type:"error",className:"font-cera",content:null==e?void 0:e.message})}),window.ipc.once("update-node-info",e=>{v(!1),window.ipc.send("update-is-validate-node",{isValidateNode:!1}),x.open({type:"warning",className:"font-cera",content:"Your address is registered, complete update with node"})}),window.ipc.once("update-system-info",e=>{x.open({type:"success",className:"font-cera",content:"Updated system information successfully"})})}catch(e){console.log("err",e)}};return n.useEffect(()=>{D&&(f(!1),l(),ej(!1),ey(!0),ek(!0),b("NODE NOT STARTED"),eg&&stopOrbitDB(eg))},[D]),n.useEffect(()=>{A&&getValidated()},[A]),n.useEffect(()=>{!0===S&&setTimeout(()=>{connectToNode()},5e3)},[S]),n.useEffect(()=>{ex&&x.open({type:"warning",className:"font-cera",content:ex})},[ex]),n.useEffect(()=>{if(S){let e=setInterval(()=>{try{console.log("ping"),window.ipc.send("get-ping","update now"),window.ipc.send("get-update-system-info",{cpuUsage:eu.current,storageUsage:C+z,ramUsage:eh.current,storageType:P}),window.ipc.once("update-data-system-info",e=>{})}catch(e){console.log(e)}},6e4);return()=>clearInterval(e)}},[S]),n.useEffect(()=>{if(S){let e=setInterval(()=>{window.ipc.send("get-benchmark","update-now"),window.ipc.once("benchmark",e=>{p(e)}),window.ipc.send("get-performance","update-now"),window.ipc.once("performance",e=>{let s=JSON.parse(e);Z(s.memoryUsage.percent),eh.current=s.memoryUsage.percent,Y(s.memoryUsage.rss),F(s.memoryUsage.heapTotal),G(s.memoryUsage.heapUsed),B(s.process.pid),U(s.process.ppid),K(s.process.version),q(s.process.platform)}),window.ipc.send("get-percent-cpuUsage","update now"),window.ipc.once("percent-cpuUsage",e=>{M(e.percent),eu.current=e.percent,H(e.usageUser),_(e.usageSystem)})},5e3);return()=>{clearInterval(e)}}},[S]),n.useEffect(()=>{if(!1===ef){let e=setInterval(()=>{console.log("check verified"),getValidated()},5e3);return()=>{clearInterval(e)}}},[ef]),n.useEffect(()=>{L&&R&&ej(!1)},[L,R]),n.useEffect(()=>{window.ipc.send("get-is-tour","update now"),window.ipc.once("is-tour",e=>{e||eE(!0)})},[]),(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Home"})}),h,(0,a.jsx)(y.Z,{disabledInteraction:!0,placement:"bottomRight",open:eD,onClose:()=>{eE(!1),window.ipc.send("update-is-tour",!0)},steps:[{title:"WELCOME TO RCLIENT",className:"font-cera text-white text-sm",description:"So that users can easily use it, we will come to the following basic steps",placement:"center",target:null},{title:"STEP 1: CHOOSE STORAGE CAPACITY",className:"font-cera text-white",description:"Please select the appropriate capacity you want to share.You can only choose one of two types of drive: HDD or SSD",target:()=>eT.current},{title:"STEP 2: ADDRESS WALLET",className:"font-cera text-white",description:"Please enter the correct address you logged in on the rivalz homepage",target:()=>eA.current.input},{title:"STEP 3: PLAY CLIENT",className:"font-cera text-white",description:"Start the Client, by pressing play",target:()=>eC.current},{title:"STEP 4: VALIDATE",className:"font-cera text-white",description:"Press the client authentication button to take you to the authentication page.\n      Hope you have a great experience with RCLIENT",target:()=>ez.current}]}),!1===ef&&(0,a.jsxs)("div",{className:" w-full h-full border border-green flex items-center",children:[(0,a.jsx)("div",{className:"w-full p-1 text-xs",children:"Your node is not validated yet."}),(0,a.jsx)(k.j7p,{onClick:()=>eb(!0),className:"text-lime cursor-pointer",size:25})]}),(0,a.jsx)("div",{children:(0,a.jsx)(UpdateVersion,{})}),(0,a.jsxs)("div",{className:" px-5 py-1 relative",children:[(0,a.jsx)("div",{className:"absolute z-0",children:(0,a.jsxs)("div",{className:"px-16 pt-14 grid grid-cols-4",style:{minWidth:"76rem",minHeight:"44rem"},children:[(0,a.jsx)("div",{className:"border-x border-green_d"}),(0,a.jsx)("div",{className:"border-r border-green_d"}),(0,a.jsx)("div",{className:"border-r border-green_d"}),(0,a.jsx)("div",{className:"border-r border-green_d"})]})}),(0,a.jsxs)("div",{className:"absolute z-20",style:{width:"96%"},children:[(0,a.jsx)("div",{children:(0,a.jsx)(Header,{})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(WalletBar,{refStorageControl:eT,refInputAddress:eA,refButtonValidate:ez})}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg mt-5 border-green bg-black text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"grid grid-cols-3",children:[(0,a.jsxs)("div",{className:"grid",children:[(0,a.jsx)("span",{children:"TASK/MIN"}),(0,a.jsx)("span",{className:"text-5xl font-black",children:o})]}),(0,a.jsxs)("div",{className:"grid mx-9",children:[(0,a.jsx)("span",{children:"SSD SHARED"}),(0,a.jsxs)("span",{className:"text-5xl font-black",children:[" ",z||0," GB"]})]}),(0,a.jsxs)("div",{className:"grid ml-12",children:[(0,a.jsx)("span",{children:"HDD SHARED"}),(0,a.jsxs)("span",{className:"text-5xl font-black",children:[" ",C||0," GB"]})]})]}),(0,a.jsxs)("div",{className:"button-control",children:[(0,a.jsx)(u(),{disabled:eS,onClick:onStop,style:{height:"50px"},className:"bg-green font-black",children:(0,a.jsx)(d.JuG,{size:25})}),(0,a.jsx)(u(),{onClick:()=>{f(!1),l(),b("NODE PAUSED"),ej(!0),ey(!0),ek(!1)},disabled:ev,style:{height:"50px"},className:"ml-5 bg-green font-black",children:(0,a.jsx)(d.Wh,{size:25,className:""})}),(0,a.jsx)(u(),{ref:eC,onClick:()=>{f(!0),c(),b("NODE RUNNING"),ej(!0),ey(!1),ek(!0)},disabled:eN,style:{height:"50px"},className:"bg-green ml-5",children:(0,a.jsx)(k.v$e,{size:25,className:"mx-8"})})]})]}),(0,a.jsxs)("div",{className:"flex justify-between my-2",children:[(0,a.jsxs)("div",{className:"text-green text-base flex",children:[(0,a.jsxs)("span",{className:"mr-5 flex items-center",children:[(0,a.jsx)(k.xps,{}),(0,a.jsxs)("span",{className:"ml-1",children:[numberFormatTime(e)," : ",numberFormatTime(s)," : ",numberFormatTime(t)]})]}),(0,a.jsxs)("span",{className:"mr-5",children:["PID: ",J||0]}),(0,a.jsxs)("span",{className:"ml-3",children:["PPID: ",X||0]})]}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("span",{children:"STATUS: "}),(0,a.jsx)("span",{className:"text-green text-base",children:I})]})]})]}),(0,a.jsx)("div",{className:"my-4",children:(0,a.jsx)(PerformanceBar,{})}),(0,a.jsx)("div",{children:(0,a.jsx)(ConsoleBar,{})})]})]})]})}},31566:function(){},95745:function(){},15162:function(){}},function(e){e.O(0,[55,567,485,89,703,102,98,774,888,179],function(){return e(e.s=84378)}),_N_E=e.O()}]);